<!DOCTYPE html>
<htm>

  <head>
    <meta charset="UTF-8">
    <title></title>
  </head>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    .box1 {
      height: 100px;
      margin: 10px;
      border: 2px solid #000;
      padding: 10px;
      position: relative;
    }

    .box2 {
      margin: 10px;
      height: 10px;
    }
  </style>

  <body>
    <div class="box1">
      <div class="box2"></div>
    </div>
    <script>
      ~ function () {
        /*
         * offset：获取当前元素距离BODY的左/上偏移
         *    @params
         *      curEle:current element当前要操作的元素
         *    @return
         *      [object]包含左/上偏移的信息
         * by tanshuai on 2021.12.29
         */
        function offset(curEle) {
          let par = curEle.offsetParent,
            l = curEle.offsetLeft,
            t = curEle.offsetTop;
          //存在父参照物，而且没有找到BODY
          while (par && par.tagName !== "BODY") {
            if (!/MSIE 8\.0/.test(navigator.userAgent)) {
              //IE8中偏移值自己就算了边框了
              //navigator.userAgent获取当前浏览器的版本信息
              l += par.clientLeft;
              t += par.clientTop;
            }
            l += par.offsetLeft;
            t += par.offsetTop;
            par = par.offsetParent;
          }
          return {
            left: l,
            top: t
          }
        }
        let box = document.querySelector('.box2');
        console.log(offset(box));
      }();
    </script>
  </body>

  </html>